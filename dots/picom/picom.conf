#################################
#       General Settings        #
#################################
experimental-backends = true;
backend = "glx";
vsync = false;
dbus = true;
# mark-wmwin-focused = true;
# mark-ovredir-focused = true;
detect-client-opacity = true;
detect-transient = true;
detect-client-leader = true;
use-damage = false;
log-level = "warn";
opacity-override = true;


#################################
#         Window rules          #
#################################
rules = (
  {
    corner-radius = 10;
  },
  {
   match = "(window_type = 'tooltip')"
   animations = (
    {
      triggers = ["show"];
      preset = "appear";
      scale = 0.6;
      duration = 0.2;
    }
   );
  },
  {
    match = "!(class_g = 'Eww' || class_g = 'Polybar')";
    opacity = 0.89;
    animations = (
      {
        triggers = [ "open" ];
        offset-y = {
            start = "window-height * 0.5";
            curve = "cubic-bezier(.02,-0.26,.16,1.2)";
            duration = .435;
            delay = 0;
            end = 0;    
        };
      },
      # {
      #   triggers = [ "close" ];
      #   preset = "fly-out";
      #   direction = "up";
      #   duration = 0.3;
      # },
    );
  },
  {
   match = "class_g = 'Rofi'";
   blur-background = false;
   opacity = 1;
   animations = (
      {
        triggers = [ "open" ];
        offset-y = {
            start = "window-height * 0.5"; 
            end = 0; 
            curve = "cubic-bezier(.02,-0.26,.16,1.7)";
            duration = .435;
            delay = 0;
               
        };
        opacity = {
          start = 0.5; 
          end = 1;
          duration = .235;
        }
      },
      {
        triggers = [ "close" ];
        preset = "fly-out";
        direction = "down";
        duration = .335;
      },
    );
  },
  {
   match = "class_g = 'Eww' && !(window_type = 'tooltip')";
   blur-background = true;
   opacity = 0.87;
   animations = (
    {
       triggers = [ "open" ];
       preset = "slide-in";
       direction = "up";
       duration = 0.2;
    },
    {
       triggers = [ "close" ];
       preset = "slide-out";
       direction = "up";
       duration = 0.2;
    },
   );
  },
  {
   
    animations = (
      {
        triggers = [ "show" ];
        preset = "appear";
        #direction = "left";
        scale = 0.6;
        duration = 0.3;
      },
      {
        triggers = [ "hide" ];
        preset = "disappear";
        #direction = "right";
        scale = 0.6;
        duration = 0.3;
      },
    );
  },
  {
    animations = (
      {
        triggers = [ "geometry" ];
        preset = "geometry-change";
        duration = 0.25;
      }
    );
  },
);

#################################
#     Background-Blurring       #
#################################
#
blur:
{
  method = "dual_kawase";
  size = 2;
  deviation = 5.0;
};


#################################
#   Transparency / Opacity      #
#################################
# inactive-opacity = 0.85;
# frame-opacity = 1;
# popup_menu = { opacity = 1; };
# dropdown_menu = { opacity = 1; };
# inactive-opacity-override = true;
# active-opacity = 0.95;
#################################
#             Corners           #
#################################


# rounded-corners-exclude = [
#   "class_g = 'i3bar'",
#   "class_g = 'zoom'",
#   "class_g = 'dmenu'",
#   "class_g = 'i3-frame'",
#   "class_g = 'Tint2'",
#   "class_g = 'Polybar'",
#   "class_g = 'eww'",
# ];

# shadow = false;
# shadow-radius = 2;
# shadow-opacity = 0.78;
# shadow-offset-x = 4;
# shadow-offset-y = 4;
# shadow-ignore-shaped = false;
# detect-rounded-corners = true;
#
# shadow-exclude = [
#     "name = 'Notification'",
#     "class_g ?= 'Notify-osd'",
#     "name = 'Plank'",
#     "name *= 'VLC'",
#     "class_g = 'vivaldi' && argb && window_type = 'popup_menu'",
#     "class_g = 'Polybar'",
#     "class_g = 'tint2'",
#     "class_g ?= 'Notify-osd'",
#     "class_g ?= 'Xfce4-notifyd'",
#     "class_g ?= 'Xfce4-power-manager'",
#     "name = 'cpt_frame_window'",
#     "class_g *?= 'zoom'",
#     "class_g = 'i3-frame'",
#
# ];

#################################
#           Fading              #
#################################
# fading = true;
# fade-in-step = 0.09;
# fade-out-step = 0.09;
# fade-delta = 10
# fade-exclude = [
#   "class_g = 'slop'"   # maim
# ]
#

#
# focus-exclude = [
#   "class_g = 'Cairo-clock'",
#   "class_g = 'Bar'",                    # lemonbar
#   "class_g = 'slop'",                    # maim
#   "class_g = 'firefox'",
# ];





